<h1>Default Settings</h1>
<table class="table table-condensed">
  <tbody>
    <tr>
      <td><strong>Contributed by</strong></td>
      <td>Dominik Gruntz</td>
    </tr>
    <tr>
      <td><strong>Source</strong></td>
      <td><a target="_blank" href="http://stackoverflow.com/questions/5676301/scala-currying-and-default-arguments">StackOverflow</a></td>
    </tr>
    <tr>
      <td><strong>Tested with Scala version</strong></td>
      <td>2.9.2</td>
    </tr>
  </tbody>
</table>
<div class="code-snippet">
<h3>What is the result of executing the following code?</h3>
<pre class="prettyprint lang-scala">
def invert(v3: Int)(v2: Int = 2, v1: Int = 1) {
  println(v1 + ", " + v2 + ", " + v3);
}
def partial = invert(3) _

partial(v1 = 2)
partial(v1 = 2, v2 = 1)
</pre>

<ol>
<li>Prints:
<pre class="prettyprint lang-scala">
2, 2, 3
2, 1, 3
</pre>
</li>

<li id="correct-answer">The first invocation of <tt>partial</tt> fails with a compilation error, and the second prints:
<pre class="prettyprint lang-scala">
1, 2, 3
</pre>
</li>

<li>The second invocation of <tt>partial</tt> fails with a compilation error, and the first prints:
<pre class="prettyprint lang-scala">
2, 2, 3
</pre>
</li>

<li>Both invocation of <tt>partial</tt> fail with a compilation error.
</li>


</ol>

</div>
<button id="show-and-tell" class="btn btn-primary" href="#">Display the correct answer and explanation</button>
<div id="explanation" class="explanation" style="display:none">
<h3>Explanation</h3>
<p>
The type of <tt>partial</tt> after eta-expansion (SLS, section 6.26.5) is no longer a method but a function object
as reported by the REPL, i.e. an instance of <tt>Function2[Int, Int, Unit]</tt>.
<pre class""prettyprint lang-scala">
scala> def partial = invert(3) _
partial: (Int, Int) => Unit
</pre>
This function object has an <tt>apply</tt> method with the following signature:
<pre class""prettyprint lang-scala">
  def apply(v1: T1, v2: T2): R
</pre>
In partucular, this method defines no arguments with default values!
</p>
<p>
As a consequence, <tt>partial(v1 = 2)</tt> leads to a compile time error (as there are not enough arguments for method <tt>apply</tt>), 
and <tt>partial(v1 = 2, v2 = 1)</tt> prints <tt>1, 2, 3</tt> as the parameter <tt>v1</tt> (which corresponds to the parameter
<tt>v2</tt> in method <tt>invert</tt>) is set to <tt>2</tt> and parameter <tt>v2</tt> (which corresponds to the parameter
<tt>v1</tt> in method <tt>invert</tt>) is set to <tt>1</tt>.
</p>
</div>

